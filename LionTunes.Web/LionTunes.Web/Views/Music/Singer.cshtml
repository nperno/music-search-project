@model Hqub.MusicBrainz.API.Entities.Artist

@{
    ViewData["Title"] = "Artist";
}

<h1>Singer</h1>
<div class="alert-danger">@ViewData["error"]</div>
<div>
    <h4>@Model.Name</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Score)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Score)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Id)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Id)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Type)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Type)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.SortName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.SortName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Gender)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Gender)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Country)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Country)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Disambiguation)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Disambiguation)
        </dd>
        <dt>Band Members</dt>
        <dd>
            @{ 
                var members = Model.Relations.Where(r => r.TargetType == "artist" && r.Type.Contains("member"));
                        <ul>
                            @foreach (var relation in members.Where(r => !(bool)r.Ended))
                            {
                            <li>@relation.Artist.Name</li>
                            }
                        </ul>
            }
        </dd>
        <dt>
            Lyrics
        </dt>
        <dd>
            @{ var lyrics = Model.Relations.Where(r => r.TargetType == "url" && r.Type == "lyrics");

                if (lyrics.Count() > 0)
                {

                    <p>You can find lyrics for @Model.Name</p>

                    <ul>
                        @foreach (var relation in lyrics)
                        {
                            <li> @relation.Url.Resource</li>
                        }
                    </ul>
                }
            }

        </dd>
    </dl>
</div>
<div>
    <a href='javascript:history.go(-1)'>Return to search results</a>
</div>
